"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const Mail_1 = __importDefault(global[Symbol.for('ioc.use')]("Adonis/Addons/Mail"));
const Env_1 = __importDefault(global[Symbol.for('ioc.use')]("Adonis/Core/Env"));
class EmailService {
    async passwordRecovery(email, token) {
        var sender = Env_1.default.get("SMTP_FROM");
        var company_title = Env_1.default.get("COMPANY_NAME");
        await Mail_1.default.send((message) => {
            message
                .from(sender)
                .to(email)
                .subject('Password Reset Confirmation')
                .htmlView('emails/password_reset', { token: token, company_title: company_title });
        });
    }
}
exports.default = EmailService;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRW1haWxTZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiRW1haWxTZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsb0ZBQTBDO0FBQzFDLGdGQUFzQztBQUl0QyxNQUFxQixZQUFZO0lBRXhCLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFZLEVBQUMsS0FBWTtRQUVyRCxJQUFJLE1BQU0sR0FBRSxhQUFHLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFBO1FBQ2hDLElBQUksYUFBYSxHQUFFLGFBQUcsQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDLENBQUE7UUFDMUMsTUFBTSxjQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxFQUFFLEVBQUU7WUFDMUIsT0FBTztpQkFDSixJQUFJLENBQUMsTUFBTSxDQUFDO2lCQUNaLEVBQUUsQ0FBQyxLQUFLLENBQUM7aUJBQ1QsT0FBTyxDQUFDLDZCQUE2QixDQUFDO2lCQUN0QyxRQUFRLENBQUMsdUJBQXVCLEVBQUUsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFDLGFBQWEsRUFBQyxhQUFhLEVBQUUsQ0FBQyxDQUFBO1FBQ3BGLENBQUMsQ0FBQyxDQUFBO0lBQ0osQ0FBQztDQUdGO0FBaEJELCtCQWdCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBNYWlsIGZyb20gJ0Bpb2M6QWRvbmlzL0FkZG9ucy9NYWlsJ1xuaW1wb3J0IEVudiBmcm9tICdAaW9jOkFkb25pcy9Db3JlL0VudidcblxuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVtYWlsU2VydmljZSB7XG5cbiAgcHVibGljIGFzeW5jIHBhc3N3b3JkUmVjb3ZlcnkoZW1haWw6c3RyaW5nLHRva2VuOnN0cmluZyl7XG5cbiAgICB2YXIgc2VuZGVyPSBFbnYuZ2V0KFwiU01UUF9GUk9NXCIpXG4gICAgdmFyIGNvbXBhbnlfdGl0bGU9IEVudi5nZXQoXCJDT01QQU5ZX05BTUVcIilcbiAgICBhd2FpdCBNYWlsLnNlbmQoKG1lc3NhZ2UpID0+IHtcbiAgICAgIG1lc3NhZ2VcbiAgICAgICAgLmZyb20oc2VuZGVyKVxuICAgICAgICAudG8oZW1haWwpXG4gICAgICAgIC5zdWJqZWN0KCdQYXNzd29yZCBSZXNldCBDb25maXJtYXRpb24nKVxuICAgICAgICAuaHRtbFZpZXcoJ2VtYWlscy9wYXNzd29yZF9yZXNldCcsIHsgdG9rZW46IHRva2VuLGNvbXBhbnlfdGl0bGU6Y29tcGFueV90aXRsZSB9KVxuICAgIH0pXG4gIH1cblxuXG59XG4iXX0=